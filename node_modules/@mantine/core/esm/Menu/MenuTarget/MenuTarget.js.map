{"version":3,"file":"MenuTarget.js","sources":["../../../src/Menu/MenuTarget/MenuTarget.tsx"],"sourcesContent":["import React, { cloneElement } from 'react';\nimport { isElement, createEventHandler } from '@mantine/utils';\nimport { useMenuContext } from '../Menu.context';\nimport { Popover } from '../../Popover';\nimport { MENU_ERRORS } from '../Menu.errors';\n\nexport interface MenuTargetProps {\n  /** Target element */\n  children: React.ReactNode;\n\n  /** Key of the prop that should be used to get element ref */\n  refProp?: string;\n}\n\nexport function MenuTarget({ children, refProp = 'ref' }: MenuTargetProps) {\n  if (!isElement(children)) {\n    throw new Error(MENU_ERRORS.children);\n  }\n\n  const ctx = useMenuContext();\n\n  const onClick = createEventHandler(\n    children.props.onClick,\n    () => ctx.trigger === 'click' && ctx.toggleDropdown()\n  );\n\n  const onMouseEnter = createEventHandler(\n    children.props.onMouseEnter,\n    () => ctx.trigger === 'hover' && ctx.openDropdown()\n  );\n\n  const onMouseLeave = createEventHandler(\n    children.props.onMouseLeave,\n    () => ctx.trigger === 'hover' && ctx.closeDropdown()\n  );\n\n  return (\n    <Popover.Target refProp={refProp} popupType=\"menu\">\n      {cloneElement(children, {\n        onClick,\n        onMouseEnter,\n        onMouseLeave,\n        'data-expanded': ctx.opened ? true : undefined,\n      })}\n    </Popover.Target>\n  );\n}\n\nMenuTarget.displayName = '@mantine/core/MenuTarget';\n"],"names":[],"mappings":";;;;;;AAKO,SAAS,UAAU,CAAC,EAAE,QAAQ,EAAE,OAAO,GAAG,KAAK,EAAE,EAAE;AAC1D,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;AAC5B,IAAI,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;AAC1C,GAAG;AACH,EAAE,MAAM,GAAG,GAAG,cAAc,EAAE,CAAC;AAC/B,EAAE,MAAM,OAAO,GAAG,kBAAkB,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,EAAE,MAAM,GAAG,CAAC,OAAO,KAAK,OAAO,IAAI,GAAG,CAAC,cAAc,EAAE,CAAC,CAAC;AACpH,EAAE,MAAM,YAAY,GAAG,kBAAkB,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,EAAE,MAAM,GAAG,CAAC,OAAO,KAAK,OAAO,IAAI,GAAG,CAAC,YAAY,EAAE,CAAC,CAAC;AAC5H,EAAE,MAAM,YAAY,GAAG,kBAAkB,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,EAAE,MAAM,GAAG,CAAC,OAAO,KAAK,OAAO,IAAI,GAAG,CAAC,aAAa,EAAE,CAAC,CAAC;AAC7H,EAAE,uBAAuB,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,EAAE;AAC7D,IAAI,OAAO;AACX,IAAI,SAAS,EAAE,MAAM;AACrB,GAAG,EAAE,YAAY,CAAC,QAAQ,EAAE;AAC5B,IAAI,OAAO;AACX,IAAI,YAAY;AAChB,IAAI,YAAY;AAChB,IAAI,eAAe,EAAE,GAAG,CAAC,MAAM,GAAG,IAAI,GAAG,KAAK,CAAC;AAC/C,GAAG,CAAC,CAAC,CAAC;AACN,CAAC;AACD,UAAU,CAAC,WAAW,GAAG,0BAA0B;;;;"}